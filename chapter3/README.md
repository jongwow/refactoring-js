# 3. 코드에서 나는 악취

> 냄새 나면 당장 갈아라 - 켄트 백

## 3.1 기이한 이름 Mysterious Name

- 이름 짓기는 프로그래밍에서 가장 어렵기로 손꼽히는 두 가지 중 하나
- 마땅한 이름이 떠오르지 않는다면 설계에 문제가 있을 가능성이 높다.

## 3.2 중복 코드 Duplicated Code

- 똑같은 코드 구조가 여러 곳에서 반복된다면 하나로 통합할 수 있는지 확인하자.
- **함수 추출하기**로 모으거나 또는 **문장 슬라이드**로 비슷한 뿐을 한곳에 모으거나, **메서드 올리기**로 부모로 옮긴다.

## 3.3 긴 함수 Long Function

- 간접 호출의 효과, 코드르 ㄹ이해하고 공유하고 선택하기 쉬워진다는 장점은 함수를 짧게 구성할 때 나오는 것
- 함수의 목적(의도)과 구현 코드의 괴리가 얼마나 큰가이다.
- 함수를 짧게 만드는 작업의 99%는 **함수 추출하기**

## 3.4 긴 매개변수 목록 Long Parameter List

- 매개변수가 길면 그 자체로 이해하기 힘들 수 있다.
- **매개변수를 질의 함수로 바꾸기**, **객체 통쨰로 넘기기**, **매개변수 객체 만들기**, **플래그 인수 제거하기**, **여러 함수를 클래스로 묶기**

## 3.5 전역 데이터 Global Data

- 전역 변수는 언제 어디서 변할지 모르기 때문에 악취덩어리이다.
- **변수 캡슐화하기**

## 3.6 가변 데이터 Mutable Data

- 데이터를 변경했더니 예상치 못한 결과가 일어날 수 있다.
- **변수 캡슐화하기**로 정해놓은 함수를 거쳐야만 수정가능하게 바꾸면 코드 개선이 편함.
- **변수 쪼개기**, **문장 슬라이드하기**, **함수 추출하기**, **질의함수와 변경함수 분리하기**, **세터 제거하기** 등등

## 3.7 뒤엉킨 변경 Divergent Change

- 뒤영킨 변경은 단일 책임 원칙(SRP)이 제대로 지켜지지 않을 때 나타난다.

## 3.8 산탄총 수술 Shotgun Surgery

- 이 냄새는 코드를 변경할 때마다 자잘하게 수정해야 하는 클래스가 많을 때 풍긴다.

| 성격       | 뒤엉킨 변경             | 산탄총 수술          |
| ---------- | ----------------------- | -------------------- |
| 원인       | 맥락을 잘 구분하지 못함 | _동일_               |
| 해법(원리) | 맥락을 명확히 구분      | _동일_               |
| 해법(원리) | 한 코드에 섞여 들어감   | 여러 코드에 흩뿌려짐 |
| 해법(원리) | 맥락별로 분리           | 맥락별로 모음        |

## 3.9 기능 편애 Feature Envy

## 3.10 데이터 뭉치 Data Clumps

## 3.11 기본형 집착 Primitive Obsession

## 3.12 반복되는 Switch문 Repeated Switches

## 3.13 반복문 Loops

## 3.14 성의 없는 요소 Lazy Element

## 3.15 추측성 일반화 Speculative Generality

## 3.16 임시 필드 Temporary Field

## 3.17 메시지 체인 Message Chain

## 3.18 중개자 Middle Man

## 3.19 내부자 거래 Insider Trading

## 3.20 거대한 클래스 Large Class

## 3.21 서로 다른 인터페이스의 대안 클래스들 Alternative Classes with Different Interfaces

## 3.22 데이터 클래스 Data Class

## 3.23 상속 포기 Refused Bequest

## 3.24 주석 Comments
> 주석을 남겨야겠다는 생각이 들면, 가장 먼저 주석이 필요 없는 코드로 리팩터링해본다.
